{"version":3,"sources":["firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","components/Avatar.js","components/ProjectList.js","hooks/useCollection.js","pages/dashboard/ProjectFilter.js","pages/dashboard/Dashboard.js","hooks/useFirestore.js","pages/create/Create.js","pages/login/Login.js","hooks/useLogin.js","pages/signup/Signup.js","hooks/useSignup.js","pages/project/ProjectSummary.js","pages/project/ProjectComments.js","pages/project/Project.js","hooks/useDocument.js","hooks/useLogout.js","assets/temple.svg","components/Navbar.js","assets/dashboard_icon.svg","assets/add_icon.svg","components/Sidebar.js","components/OnlineUsers.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","projectAuth","auth","projectStorage","storage","timestamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","useEffect","unsub","onAuthStateChanged","console","log","Provider","value","useAuthContext","context","useContext","Error","Avatar","src","className","alt","ProjectList","projects","lenght","map","project","to","id","name","dueDate","toDate","toDateString","assignedUsersList","photoURL","useCollection","collection","_query","_orderBy","useState","documents","setDocuments","error","setError","query","useRef","current","orderBy","ref","where","unsubscribe","onSnapshot","snapshot","results","docs","forEach","doc","push","data","filterList","ProjectFilter","currentFilter","changeFilter","cat","onClick","Dashboard","setCurrentFilter","newFilter","filter","document","assignedToMe","u","uid","category","initialState","isPending","success","firestoreReducer","useFirestore","response","isCancelled","setIsCancelled","dispatchIfNotCancelled","addDocument","a","createdAt","fromDate","Date","add","addedDocument","message","deleteDocument","delete","updateDocument","updates","update","categories","label","Create","users","setUsers","navigate","useNavigate","setName","details","setDetails","setDueDate","setCategory","assignedUsers","setAssignedUsers","formError","setFormError","options","displayName","handleSubmit","e","preventDefault","length","createdBy","comments","onSubmit","required","onChange","target","option","isMulti","Login","email","setEmail","password","setPassword","setIsPending","login","signInWithEmailAndPassword","res","online","useLogin","disabled","Signup","setDisplayName","thumbnail","setThumbnail","thumbnailError","setThumbnailError","signup","createUserWithEmailAndPassword","uploadPath","put","img","getDownloadURL","imgUrl","updateProfile","set","useSignup","selected","files","includes","size","ProjectSummary","ProjectComments","newComment","setNewComment","commentToAdd","content","Math","random","comment","formatDistanceToNow","addSuffix","Project","setDocument","err","useDocument","useParams","Navbar","logout","signOut","useLogout","Temple","Sidebar","exact","DashboardIcon","AddIcon","OnlineUsers","App","path","element","ReactDOM","render","StrictMode","getElementById"],"mappings":"mdAeAA,IAASC,cAVc,CACrBC,OAAQ,0CACRC,WAAY,oCACZC,UAAW,oBACXC,cAAe,gCACfC,kBAAmB,cACnBC,MAAO,6CAOT,IAAMC,EAAmBR,IAASS,YAC5BC,EAAcV,IAASW,OACvBC,EAAiBZ,IAASa,UAG1BC,EAAYd,IAASS,UAAUM,U,OCpBxBC,EAAcC,0BAEdC,EAAc,SAACC,EAAOC,GACjC,OAAQA,EAAOC,MACb,IAAK,QACH,OAAO,2BAAKF,GAAZ,IAAmBG,KAAMF,EAAOG,UAClC,IAAK,SACH,OAAO,2BAAKJ,GAAZ,IAAmBG,KAAM,OAC3B,IAAK,gBACH,MAAO,CAAEA,KAAMF,EAAOG,QAASC,aAAa,GAC9C,QACE,OAAOL,IAIAM,EAAsB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACpC,EAA0BC,qBAAWT,EAAa,CAChDI,KAAM,KACNE,aAAa,IAFf,mBAAOL,EAAP,KAAcS,EAAd,KAcA,OATAC,qBAAU,WACR,IAAMC,EAAQpB,EAAYqB,oBAAmB,SAAAT,GAC3CM,EAAS,CAAEP,KAAM,gBAAiBE,QAASD,IAC3CQ,SAED,IAEHE,QAAQC,IAAI,qBAAsBd,GAGhC,cAACH,EAAYkB,SAAb,CAAsBC,MAAK,2BAAOhB,GAAP,IAAcS,aAAzC,SACIF,KChCKU,EAAiB,WAC5B,IAAMC,EAAUC,qBAAWtB,GAE3B,IAAIqB,EACF,MAAME,MAAM,6DAGd,OAAOF,G,YCPM,SAASG,EAAT,GAA0B,IAARC,EAAO,EAAPA,IAC/B,OACE,qBAAKC,UAAU,SAAf,SACE,qBAAKD,IAAKA,EAAKE,IAAI,kB,MCAV,SAASC,EAAT,GAAoC,IAAbC,EAAY,EAAZA,SACpC,OACE,sBAAKH,UAAU,eAAf,UACuB,IAApBG,EAASC,QAAgB,gDACzBD,EAASE,KAAI,SAACC,GAAD,OACZ,eAAC,IAAD,CAAMC,GAAE,oBAAeD,EAAQE,IAA/B,UACE,6BAAKF,EAAQG,OACb,wCAAWH,EAAQI,QAAQC,SAASC,kBACpC,qBAAKZ,UAAU,cAAf,SACE,6BACGM,EAAQO,kBAAkBR,KAAI,SAACzB,GAAD,OAC7B,6BACE,cAAC,EAAD,CAAQmB,IAAKnB,EAAKkC,YADXlC,EAAKkC,mBANoBR,EAAQE,U,YCR7CO,EAAgB,SAACC,EAAYC,EAAQC,GAChD,MAAkCC,mBAAS,MAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAA0BF,mBAAS,MAAnC,mBAAOG,EAAP,KAAcC,EAAd,KAIMC,EAAQC,iBAAOR,GAAQS,QACvBC,EAAUF,iBAAOP,GAAUQ,QA+BjC,OA7BAvC,qBAAU,WACR,IAEW,EAGE,EALTyC,EAAM9D,EAAiBkD,WAAWA,GAElCQ,IACFI,GAAM,EAAAA,GAAIC,MAAJ,oBAAaL,KAEjBG,IACFC,GAAM,EAAAA,GAAID,QAAJ,oBAAeA,KAGvB,IAAMG,EAAcF,EAAIG,YAAW,SAAAC,GACjC,IAAIC,EAAU,GACdD,EAASE,KAAKC,SAAQ,SAAAC,GACpBH,EAAQI,KAAR,2BAAiBD,EAAIE,QAArB,IAA6B9B,GAAI4B,EAAI5B,SAIvCa,EAAaY,GACbV,EAAS,SACR,SAAAD,GACDhC,QAAQC,IAAI+B,GACZC,EAAS,+BAIX,OAAO,kBAAMO,OAEZ,CAACd,EAAYQ,EAAOG,IAEhB,CAAEP,YAAWE,UCzChBiB,EAAa,CACjB,MACA,OACA,cACA,SACA,YACA,SAGa,SAASC,EAAT,GAAyD,IAAhCC,EAA+B,EAA/BA,cAAeC,EAAgB,EAAhBA,aAKrD,OACE,qBAAK1C,UAAU,iBAAf,SACE,gCACE,2CACCuC,EAAWlC,KAAI,SAACsC,GAAD,OACd,wBAEEC,QAAS,WAVjBF,EAUmCC,IAC3B3C,UAAWyC,IAAkBE,EAAM,SAAW,GAHhD,SAKGA,GAJIA,W,MCXF,SAASE,IACtB,IAAQjE,EAASc,IAATd,KACR,EAA6BmC,EAAc,YAAnCK,EAAR,EAAQA,UAAWE,EAAnB,EAAmBA,MACnB,EAA0CH,mBAAS,OAAnD,mBAAOsB,EAAP,KAAsBK,EAAtB,KAEMJ,EAAe,SAACK,GACpBD,EAAiBC,IAGb5C,EAAWiB,EACbA,EAAU4B,QAAO,SAACC,GAChB,OAAQR,GACN,IAAK,MACH,OAAO,EACT,IAAK,OACH,IAAIS,GAAe,EAMnB,OALAD,EAASpC,kBAAkBsB,SAAQ,SAACgB,GAC9BvE,EAAKwE,MAAQD,EAAE3C,KACjB0C,GAAe,MAGZA,EACT,IAAK,cACL,IAAK,SACL,IAAK,QACL,IAAK,YAEH,OADA5D,QAAQC,IAAI0D,EAASI,SAAUX,GACxBO,EAASI,WAAaZ,EAC/B,QACE,OAAO,MAGb,KAEJ,OACE,gCACE,oBAAIzC,UAAU,aAAd,uBACCsB,GAAS,mBAAGtB,UAAU,QAAb,SAAsBsB,IAC/BF,GACC,cAACoB,EAAD,CACEC,cAAeA,EACfC,aAAcA,IAGjBvC,GAAY,cAAC,EAAD,CAAaA,SAAUA,O,oCClDtCmD,EAAe,CACjBL,SAAU,KACVM,WAAW,EACXjC,MAAO,KACPkC,QAAS,MAGLC,EAAmB,SAAChF,EAAOC,GAC/B,OAAQA,EAAOC,MACb,IAAK,aACH,MAAO,CAAE4E,WAAW,EAAMN,SAAU,KAAMO,SAAS,EAAOlC,MAAO,MACnE,IAAK,iBACH,MAAO,CACLiC,WAAW,EACXN,SAAUvE,EAAOG,QACjB2E,SAAS,EACTlC,MAAO,MAEX,IAAK,mBACH,MAAO,CAAEiC,WAAW,EAAON,SAAU,KAAMO,SAAS,EAAMlC,MAAO,MACnE,IAAK,mBACH,MAAO,CACLiC,WAAW,EACXN,SAAUvE,EAAOG,QACjB2E,SAAS,EACTlC,MAAO,MAEX,IAAK,QACH,MAAO,CACLiC,WAAW,EACXN,SAAU,KACVO,SAAS,EACTlC,MAAO5C,EAAOG,SAElB,QACE,OAAOJ,IAIAiF,EAAe,SAAC1C,GAC3B,MAA6B/B,qBAAWwE,EAAkBH,GAA1D,mBAAOK,EAAP,KAAiBzE,EAAjB,KACA,EAAsCiC,oBAAS,GAA/C,mBAAOyC,EAAP,KAAoBC,EAApB,KAGMjC,EAAM9D,EAAiBkD,WAAWA,GAGlC8C,EAAyB,SAACpF,GACzBkF,GACH1E,EAASR,IAKPqF,EAAW,uCAAG,WAAO3B,GAAP,iBAAA4B,EAAA,6DAClB9E,EAAS,CAAEP,KAAM,eADC,SAIVsF,EAAY7F,EAAU8F,SAAS,IAAIC,MAJzB,SAKYvC,EAAIwC,IAAJ,2BAAahC,GAAb,IAAkB6B,eAL9B,OAKVI,EALU,OAMhBP,EAAuB,CACrBnF,KAAM,iBACNE,QAASwF,IARK,gDAWhBP,EAAuB,CAAEnF,KAAM,QAASE,QAAS,KAAIyF,UAXrC,yDAAH,sDAgBXC,EAAc,uCAAG,WAAO/D,GAAP,SAAAwD,EAAA,6DACrB9E,EAAS,CAAEP,KAAM,eADI,kBAIbiD,EAAIQ,IAAI5B,GAAIgE,SAJC,OAKnBV,EAAuB,CAAEnF,KAAM,qBALZ,gDAOnBmF,EAAuB,CAAEnF,KAAM,QAASE,QAAS,qBAP9B,yDAAH,sDAYd4F,EAAc,uCAAG,WAAOjE,EAAIkE,GAAX,eAAAV,EAAA,6DACrB9E,EAAS,CAAEP,KAAM,eADI,kBAIUiD,EAAIQ,IAAI5B,GAAImE,OAAOD,GAJ7B,cAIbD,EAJa,OAKnBX,EAAuB,CACrBnF,KAAM,mBACNE,QAAS4F,IAPQ,kBASZA,GATY,uCAWnBX,EAAuB,CAAEnF,KAAM,QAASE,QAAS,KAAIyF,UAXlC,kBAYZ,MAZY,yDAAH,wDAoBpB,OAJAnF,qBAAU,WACR,OAAO,kBAAM0E,GAAe,MAC3B,IACHvE,QAAQC,IAAI,wBAAyBqE,GAC9B,CAAEG,cAAaQ,iBAAgBE,iBAAgBd,aC9FlDiB,G,MAAa,CACjB,CAAEnF,MAAO,cAAeoF,MAAO,eAC/B,CAAEpF,MAAO,SAAUoF,MAAO,UAC1B,CAAEpF,MAAO,QAASoF,MAAO,SACzB,CAAEpF,MAAO,YAAaoF,MAAO,eAGhB,SAASC,IACtB,IAAQ1D,EAAcL,EAAc,SAA5BK,UACR,EAA0BD,mBAAS,IAAnC,mBAAO4D,EAAP,KAAcC,EAAd,KACQpG,EAASc,IAATd,KACR,EAAkC8E,EAAa,YAAvCK,EAAR,EAAQA,YAAaJ,EAArB,EAAqBA,SACfsB,EAAWC,cAGjB,EAAwB/D,mBAAS,IAAjC,mBAAOV,EAAP,KAAa0E,EAAb,KACA,EAA8BhE,mBAAS,IAAvC,mBAAOiE,EAAP,KAAgBC,EAAhB,KACA,EAA8BlE,mBAAS,IAAvC,mBAAOT,EAAP,KAAgB4E,EAAhB,KACA,EAAgCnE,mBAAS,IAAzC,mBAAOkC,EAAP,KAAiBkC,EAAjB,KACA,EAA0CpE,mBAAS,IAAnD,mBAAOqE,EAAP,KAAsBC,EAAtB,KACA,EAAkCtE,mBAAS,MAA3C,mBAAOuE,EAAP,KAAkBC,EAAlB,KAEAxG,qBAAU,WACR,GAAIiC,EAAW,CACb,IAAMwE,EAAUxE,EAAUf,KAAI,SAACzB,GAC7B,MAAO,CAAEa,MAAOb,EAAMiG,MAAOjG,EAAKiH,gBAEpCb,EAASY,MAEV,CAACxE,IAEJ,IAAM0E,EAAY,uCAAG,WAAOC,GAAP,mBAAA/B,EAAA,yDACnB+B,EAAEC,iBACFL,EAAa,MAERtC,EAJc,uBAKjBsC,EAAa,oCALI,+BASfH,EAAcS,OAAS,GATR,uBAUjBN,EAAa,+CAVI,iCAcbO,EAAY,CAChBL,YAAajH,EAAKiH,YAClB/E,SAAUlC,EAAKkC,SACfN,GAAI5B,EAAKwE,KAGLvC,EAAoB2E,EAAcnF,KAAI,SAAC8C,GAC3C,MAAO,CACL0C,YAAa1C,EAAE1D,MAAMoG,YACrB/E,SAAUqC,EAAE1D,MAAMqB,SAClBN,GAAI2C,EAAE1D,MAAMe,OAGVF,EAAU,CACdG,OACA2E,UACA/B,SAAUA,EAAS5D,MACnBiB,QAAStC,EAAU8F,SAAS,IAAIC,KAAKzD,IACrCyF,SAAU,GACVD,YACArF,qBAlCiB,UAqCbkD,EAAYzD,GArCC,QAsCdqD,EAASrC,OACZ2D,EAAS,KAvCQ,4CAAH,sDA2ClB,OACE,sBAAKjF,UAAU,cAAf,UACE,oBAAIA,UAAU,aAAd,kCACA,uBAAMoG,SAAUN,EAAhB,UACE,kCACE,iDACA,uBACEO,UAAQ,EACR1H,KAAK,OACL2H,SAAU,SAACP,GAAD,OAAOZ,EAAQY,EAAEQ,OAAO9G,QAClCA,MAAOgB,OAIX,kCACE,oDACA,0BACE4F,UAAQ,EACR1H,KAAK,OACL2H,SAAU,SAACP,GAAD,OAAOV,EAAWU,EAAEQ,OAAO9G,QACrCA,MAAO2F,OAIX,kCACE,iDACA,uBACEiB,UAAQ,EACR1H,KAAK,OACL2H,SAAU,SAACP,GAAD,OAAOT,EAAWS,EAAEQ,OAAO9G,QACrCA,MAAOiB,OAIX,kCACE,qDACA,cAAC,IAAD,CACE4F,SAAU,SAACE,GAAD,OAAYjB,EAAYiB,IAClCZ,QAAShB,OAIb,kCACE,8CACA,cAAC,IAAD,CACE0B,SAAU,SAACE,GAAD,OAAYf,EAAiBe,IACvCZ,QAASb,EACT0B,SAAO,OAIX,wBAAQzG,UAAU,MAAlB,yBAEC0F,GAAa,mBAAG1F,UAAU,QAAb,SAAsB0F,U,MCpI7B,SAASgB,IACtB,MAA0BvF,mBAAS,IAAnC,mBAAOwF,EAAP,KAAcC,EAAd,KACA,EAAgCzF,mBAAS,IAAzC,mBAAO0F,EAAP,KAAiBC,EAAjB,KACA,ECLsB,WACtB,MAAsC3F,oBAAS,GAA/C,mBAAOyC,EAAP,KAAoBC,EAApB,KACA,EAA0B1C,mBAAS,MAAnC,mBAAOG,EAAP,KAAcC,EAAd,KACA,EAAkCJ,oBAAS,GAA3C,mBAAOoC,EAAP,KAAkBwD,EAAlB,KACQ7H,EAAaQ,IAAbR,SAEF8H,EAAK,uCAAG,WAAOL,EAAOE,GAAd,eAAA7C,EAAA,6DACZzC,EAAS,MACTwF,GAAa,GAFD,kBAMQ/I,EAAYiJ,2BAA2BN,EAAOE,GANtD,cAMJK,EANI,gBASJpJ,EACHkD,WAAW,SACXoB,IAAI8E,EAAItI,KAAKwE,KACbuB,OAAO,CAAEwC,QAAQ,IAZV,OAeVjI,EAAS,CAAEP,KAAM,QAASE,QAASqI,EAAItI,OAElCgF,IACHmD,GAAa,GACbxF,EAAS,OAnBD,kDAsBLqC,IACHrC,EAAS,KAAI+C,SACbyC,GAAa,IAxBL,0DAAH,wDAiCX,OAJA5H,qBAAU,WACR,OAAO,kBAAM0E,GAAe,MAC3B,IAEI,CAAEmD,QAAOzD,YAAWjC,SDlCS8F,GAA5BJ,EAAR,EAAQA,MAAOzD,EAAf,EAAeA,UAAWjC,EAA1B,EAA0BA,MAO1B,OACE,uBAAMtB,UAAU,YAAYoG,SANT,SAACL,GACpBA,EAAEC,iBACFgB,EAAML,EAAOE,IAIb,UACE,uCACA,kCACE,0CACA,uBACER,UAAQ,EACR1H,KAAK,QACL2H,SAAU,SAACP,GAAD,OAAOa,EAASb,EAAEQ,OAAO9G,QACnCA,MAAOkH,OAGX,kCACE,6CACA,uBACEN,UAAQ,EACR1H,KAAK,WACL2H,SAAU,SAACP,GAAD,OAAOe,EAAYf,EAAEQ,OAAO9G,QACtCA,MAAOoH,QAITtD,GAAa,wBAAQvD,UAAU,MAAlB,mBACduD,GACC,wBAAQvD,UAAU,MAAMqH,UAAQ,EAAhC,qBAID/F,GAAS,qBAAKtB,UAAU,QAAf,SAAwBsB,O,MEtCzB,SAASgG,IACtB,MAA0BnG,mBAAS,IAAnC,mBAAOwF,EAAP,KAAcC,EAAd,KACA,EAAgCzF,mBAAS,IAAzC,mBAAO0F,EAAP,KAAiBC,EAAjB,KACA,EAAsC3F,mBAAS,IAA/C,mBAAO0E,EAAP,KAAoB0B,EAApB,KACA,EAAkCpG,mBAAS,MAA3C,mBAAOqG,EAAP,KAAkBC,EAAlB,KACA,EAA4CtG,mBAAS,MAArD,mBAAOuG,EAAP,KAAuBC,EAAvB,KACA,ECJuB,WACvB,MAAsCxG,oBAAS,GAA/C,mBAAOyC,EAAP,KAAoBC,EAApB,KACA,EAA0B1C,mBAAS,MAAnC,mBAAOG,EAAP,KAAcC,EAAd,KACA,EAAkCJ,oBAAS,GAA3C,mBAAOoC,EAAP,KAAkBwD,EAAlB,KACQ7H,EAAaQ,IAAbR,SAEF0I,EAAM,uCAAG,WAAOjB,EAAOE,EAAUhB,EAAa2B,GAArC,qBAAAxD,EAAA,6DACbzC,EAAS,MACTwF,GAAa,GAFA,kBAMO/I,EAAY6J,+BAC5BlB,EACAE,GARS,UAMLK,EANK,6BAYH,IAAIrH,MAAM,6BAZP,cAeLiI,EAfK,oBAeqBZ,EAAItI,KAAKwE,IAf9B,YAeqCoE,EAAU/G,MAf/C,UAgBOvC,EAAe0D,IAAIkG,GAAYC,IAAIP,GAhB1C,eAgBLQ,EAhBK,iBAiBUA,EAAIpG,IAAIqG,iBAjBlB,eAiBLC,EAjBK,iBAoBLhB,EAAItI,KAAKuJ,cAAc,CAAEtC,cAAa/E,SAAUoH,IApB3C,yBAuBLpK,EAAiBkD,WAAW,SAASoB,IAAI8E,EAAItI,KAAKwE,KAAKgF,IAAI,CAC/DjB,QAAQ,EACRtB,cACA/E,SAAUoH,IA1BD,QA6BXhJ,EAAS,CAAEP,KAAM,QAASE,QAASqI,EAAItI,OAElCgF,IACHmD,GAAa,GACbxF,EAAS,OAjCA,kDAoCNqC,IACHrC,EAAS,KAAI+C,SACbyC,GAAa,IAtCJ,0DAAH,4DA+CZ,OAJA5H,qBAAU,WACR,OAAO,kBAAM0E,GAAe,MAC3B,IAEI,CAAE+D,SAAQtG,QAAOiC,aDjDa8E,GAA7BT,EAAR,EAAQA,OAAQrE,EAAhB,EAAgBA,UAAWjC,EAA3B,EAA2BA,MA8B3B,OACE,uBAAMtB,UAAU,YAAYoG,SA7BT,SAACL,GACpBA,EAAEC,iBACF4B,EAAOjB,EAAOE,EAAUhB,EAAa2B,IA2BrC,UACE,wCACA,kCACE,0CACA,uBACEnB,UAAQ,EACR1H,KAAK,QACL2H,SAAU,SAACP,GAAD,OAAOa,EAASb,EAAEQ,OAAO9G,QACnCA,MAAOkH,OAGX,kCACE,6CACA,uBACEN,UAAQ,EACR1H,KAAK,WACL2H,SAAU,SAACP,GAAD,OAAOe,EAAYf,EAAEQ,OAAO9G,QACtCA,MAAOoH,OAGX,kCACE,iDACA,uBACER,UAAQ,EACR1H,KAAK,OACL2H,SAAU,SAACP,GAAD,OAAOwB,EAAexB,EAAEQ,OAAO9G,QACzCA,MAAOoG,OAGX,kCACE,sDACA,uBAAOQ,UAAQ,EAAC1H,KAAK,OAAO2H,SAvDT,SAACP,GACxB0B,EAAa,MACb,IAAIa,EAAWvC,EAAEQ,OAAOgC,MAAM,GAC9BjJ,QAAQC,IAAI+I,GAEPA,EAIAA,EAAS3J,KAAK6J,SAAS,SAIxBF,EAASG,KAAO,IAClBd,EAAkB,uCAIpBA,EAAkB,MAClBF,EAAaa,GACbhJ,QAAQC,IAAI,sBAVVoI,EAAkB,kCAJlBA,EAAkB,2BAkDfD,GAAkB,qBAAK1H,UAAU,QAAf,SAAwB0H,QAE3CnE,GAAa,wBAAQvD,UAAU,MAAlB,qBACduD,GACC,wBAAQvD,UAAU,MAAMqH,UAAQ,EAAhC,qBAID/F,GAAS,qBAAKtB,UAAU,QAAf,SAAwBsB,OE9EzB,SAASoH,EAAT,GAAsC,IAAZpI,EAAW,EAAXA,QAC/BiE,EAAmBb,EAAa,YAAhCa,eACA3F,EAASc,IAATd,KACFqG,EAAWC,cAOjB,OACE,gCACE,sBAAKlF,UAAU,kBAAf,UACE,oBAAIA,UAAU,aAAd,SAA4BM,EAAQG,OACpC,oCAAOH,EAAQ4F,UAAUL,eACzB,oBAAG7F,UAAU,WAAb,4BACkBM,EAAQI,QAAQC,SAASC,kBAE3C,mBAAGZ,UAAU,UAAb,SAAwBM,EAAQ8E,UAChC,yDACA,qBAAKpF,UAAU,iBAAf,SACGM,EAAQO,kBAAkBR,KAAI,SAACzB,GAAD,OAC7B,8BACE,cAAC,EAAD,CAAQmB,IAAKnB,EAAKkC,YADVlC,EAAK4B,YAMpB5B,EAAKwE,MAAQ9C,EAAQ4F,UAAU1F,IAC9B,wBAAQR,UAAU,MAAM4C,QAxBV,SAACmD,GACnBxB,EAAejE,EAAQE,IACvByE,EAAS,MAsBL,iC,YC3BO,SAAS0D,EAAT,GAAuC,IAAZrI,EAAW,EAAXA,QACxC,EAAqCoD,EAAa,YAA1Ce,EAAR,EAAQA,eAAgBd,EAAxB,EAAwBA,SACxB,EAAoCxC,mBAAS,IAA7C,mBAAOyH,EAAP,KAAmBC,EAAnB,KACQjK,EAASc,IAATd,KAEFkH,EAAY,uCAAG,WAAOC,GAAP,eAAA/B,EAAA,6DACnB+B,EAAEC,iBAEI8C,EAAe,CACnBjD,YAAajH,EAAKiH,YAClB/E,SAAUlC,EAAKkC,SACfiI,QAASH,EACT3E,UAAW7F,EAAU8F,SAAS,IAAIC,MAClC3D,GAAIwI,KAAKC,UARQ,SAUbxE,EAAenE,EAAQE,GAAI,CAC/B2F,SAAS,GAAD,mBAAM7F,EAAQ6F,UAAd,CAAwB2C,MAXf,OAadnF,EAASrC,OACZuH,EAAc,IAdG,2CAAH,sDAkBlB,OACE,sBAAK7I,UAAU,mBAAf,UACE,kDAEA,6BACGM,EAAQ6F,SAASF,OAAS,GACzB3F,EAAQ6F,SAAS9F,KAAI,SAAC6I,GAAD,OACnB,+BACE,sBAAKlJ,UAAU,iBAAf,UACE,cAAC,EAAD,CAAQD,IAAKmJ,EAAQpI,WACrB,4BAAIoI,EAAQrD,iBAEd,qBAAK7F,UAAU,eAAf,SACE,4BACGmJ,YAAoBD,EAAQjF,UAAUtD,SAAU,CAC/CyI,WAAW,QAIjB,qBAAKpJ,UAAU,kBAAf,SACE,4BAAIkJ,EAAQH,cAbPG,EAAQ1I,SAmBvB,uBAAMR,UAAU,cAAcoG,SAAUN,EAAxC,UACE,kCACE,sDACA,0BACEO,UAAQ,EACRC,SAAU,SAACP,GAAD,OAAO8C,EAAc9C,EAAEQ,OAAO9G,QACxCA,MAAOmJ,OAGX,wBAAQ5I,UAAU,MAAlB,+B,MCzDO,SAASqJ,IACtB,IACA,ECPyB,SAACrI,EAAYR,GACtC,MAAgCW,mBAAS,MAAzC,mBAAO8B,EAAP,KAAiBqG,EAAjB,KACA,EAA0BnI,mBAAS,MAAnC,mBAAOG,EAAP,KAAcC,EAAd,KAwBA,OArBApC,qBAAU,WACR,IAEM2C,EAFMhE,EAAiBkD,WAAWA,GAAYoB,IAAI5B,GAEhCuB,YACtB,SAACC,GACKA,EAASM,QACXgH,EAAY,2BAAKtH,EAASM,QAAf,IAAuB9B,GAAIwB,EAASxB,MAC/Ce,EAAS,OAETA,EAAS,8BAGb,SAACgI,GACCjK,QAAQC,IAAIgK,EAAIjF,SAChB/C,EAAS,6BAIb,OAAO,kBAAMO,OACZ,CAACd,EAAYR,IAET,CAAEyC,WAAU3B,SDnBSkI,CAAY,WADzBC,cAAPjJ,IACAc,EAAR,EAAQA,MAAO2B,EAAf,EAAeA,SAEf,OAAI3B,EACK,qBAAKtB,UAAU,QAAf,SAAwBsB,IAE5B2B,EAKH,sBAAKjD,UAAU,kBAAf,UACE,cAAC0I,EAAD,CAAgBpI,QAAS2C,IACzB,cAAC0F,EAAD,CAAiBrI,QAAS2C,OANrB,qBAAKjD,UAAU,UAAf,yB,MEZJ,ICJQ,MAA0B,mCCQ1B,SAAS0J,IACtB,MFLuB,WACvB,MAAsCvI,oBAAS,GAA/C,mBAAOyC,EAAP,KAAoBC,EAApB,KACA,EAA0B1C,mBAAS,MAAnC,mBAAOG,EAAP,KAAcC,EAAd,KACA,EAAkCJ,oBAAS,GAA3C,mBAAOoC,EAAP,KAAkBwD,EAAlB,KACA,EAA2BrH,IAAnBR,EAAR,EAAQA,SAAUN,EAAlB,EAAkBA,KAEZ+K,EAAM,uCAAG,4BAAA3F,EAAA,6DACbzC,EAAS,MACTwF,GAAa,GAFA,SAOH3D,EAAQxE,EAARwE,IAPG,SAQLtF,EACHkD,WAAW,SACXoB,IAAIgB,GACJuB,OAAO,CAAEwC,QAAQ,IAXT,uBAaLnJ,EAAY4L,UAbP,OAgBX1K,EAAS,CAAEP,KAAM,WAGZiF,IACHmD,GAAa,GACbxF,EAAS,OArBA,kDAwBNqC,IACHrC,EAAS,KAAI+C,SACbyC,GAAa,IA1BJ,0DAAH,qDAmCZ,OAJA5H,qBAAU,WACR,OAAO,kBAAM0E,GAAe,MAC3B,IAEI,CAAE8F,SAAQrI,QAAOiC,aEpCMsG,GAAtBF,EAAR,EAAQA,OAAQpG,EAAhB,EAAgBA,UACR3E,EAASc,IAATd,KACR,OACE,qBAAKoB,UAAU,SAAf,SACE,+BACE,qBAAIA,UAAU,OAAd,UACE,qBAAKD,IAAK+J,EAAQ7J,IAAI,cACtB,gDAEArB,GACA,qCACE,6BACE,cAAC,IAAD,CAAM2B,GAAG,SAAT,qBAEF,6BACE,cAAC,IAAD,CAAMA,GAAG,UAAT,yBAIL3B,GACC,gCACI2E,GACA,wBAAQvD,UAAU,MAAM4C,QAAS+G,EAAjC,oBAIDpG,GACC,wBAAQvD,UAAU,MAAMqH,UAAQ,EAAhC,oC,UCpCC,MAA0B,2CCA1B,MAA0B,qCCS1B,SAAS0C,IACtB,IAAQnL,EAASc,IAATd,KACR,OACE,qBAAKoB,UAAU,UAAf,SACE,sBAAKA,UAAU,kBAAf,UACE,sBAAKA,UAAU,OAAf,UACE,cAAC,EAAD,CAAQD,IAAKnB,EAAKkC,WAClB,qCAAQlC,EAAKiH,kBAEf,qBAAK7F,UAAU,QAAf,SACE,+BACE,6BACE,eAAC,IAAD,CAASgK,OAAK,EAACzJ,GAAG,IAAlB,UACE,qBAAKR,IAAKkK,EAAehK,IAAI,kBAC7B,kDAIJ,6BACE,eAAC,IAAD,CAASM,GAAG,UAAZ,UACE,qBAAKR,IAAKmK,EAASjK,IAAI,qBACvB,8D,MCxBD,SAASkK,IACtB,MAA6BpJ,EAAc,SAAnCO,EAAR,EAAQA,MAAOF,EAAf,EAAeA,UACf,OACE,sBAAKpB,UAAU,YAAf,UACE,2CACCsB,GAAS,qBAAKtB,UAAU,QAAf,SAAwBsB,IACjCF,GACCA,EAAUf,KAAI,SAACzB,GAAD,OACZ,sBAAmBoB,UAAU,iBAA7B,UACGpB,EAAKuI,QAAU,sBAAMnH,UAAU,gBAChC,+BAAOpB,EAAKiH,cACZ,cAAC,EAAD,CAAQ9F,IAAKnB,EAAKkC,aAHVlC,EAAK4B,UCwCV4J,MArCf,WACE,MAA8B1K,IAAtBd,EAAR,EAAQA,KAAME,EAAd,EAAcA,YACd,OACE,qBAAKkB,UAAU,MAAf,SACGlB,GACC,eAAC,IAAD,WACGF,GAAQ,cAAC,EAAD,IACT,sBAAKoB,UAAU,YAAf,UACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOqK,KAAK,IAAIC,QAAS1L,EAAO,cAAC,EAAD,IAAgB,cAAC,EAAD,MAEhD,cAAC,IAAD,CAAOyL,KAAK,UAAUC,QAAS1L,EAAO,cAAC,EAAD,IAAa,cAAC,EAAD,MAEnD,cAAC,IAAD,CACEyL,KAAK,gBACLC,QAAS1L,EAAO,cAAC,EAAD,IAAc,cAAC,EAAD,MAGhC,cAAC,IAAD,CACEyL,KAAK,SACLC,QAAU1L,EAAmB,cAAC,EAAD,IAAZ,cAAC,EAAD,MAGnB,cAAC,IAAD,CACEyL,KAAK,UACLC,QAAU1L,EAAoB,cAAC,EAAD,IAAb,cAAC,EAAD,YAItBA,GAAQ,cAAC,EAAD,UCzCnB2L,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,UACE,cAAC,EAAD,QAGJxH,SAASyH,eAAe,W","file":"static/js/main.c1693229.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBlOeqnE4hN197KoO_7Lls5UXlGEws4IO8\",\r\n  authDomain: \"thedojosite-ce6a7.firebaseapp.com\",\r\n  projectId: \"thedojosite-ce6a7\",\r\n  storageBucket: \"thedojosite-ce6a7.appspot.com\",\r\n  messagingSenderId: \"99072408498\",\r\n  appId: \"1:99072408498:web:e48451f47fab03328b02ab\",\r\n};\r\n\r\n// init firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\n// init services\r\nconst projectFirestore = firebase.firestore();\r\nconst projectAuth = firebase.auth();\r\nconst projectStorage = firebase.storage();\r\n\r\n// timestamp\r\nconst timestamp = firebase.firestore.Timestamp;\r\n\r\nexport { projectFirestore, projectAuth, projectStorage, timestamp };\r\n","import { createContext, useReducer, useEffect } from 'react'\nimport { projectAuth } from '../firebase/config'\n\nexport const AuthContext = createContext()\n\nexport const authReducer = (state, action) => {\n  switch (action.type) {\n    case 'LOGIN':\n      return { ...state, user: action.payload }\n    case 'LOGOUT':\n      return { ...state, user: null }\n    case 'AUTH_IS_READY':\n      return { user: action.payload, authIsReady: true }\n    default:\n      return state\n  }\n}\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, { \n    user: null,\n    authIsReady: false\n  })\n\n  useEffect(() => {\n    const unsub = projectAuth.onAuthStateChanged(user => {\n      dispatch({ type: 'AUTH_IS_READY', payload: user })\n      unsub()\n    })\n  }, [])\n\n  console.log('AuthContext state:', state)\n  \n  return (\n    <AuthContext.Provider value={{ ...state, dispatch }}>\n      { children }\n    </AuthContext.Provider>\n  )\n\n}","import { AuthContext } from \"../context/AuthContext\"\nimport { useContext } from \"react\"\n\nexport const useAuthContext = () => {\n  const context = useContext(AuthContext)\n\n  if(!context) {\n    throw Error('useAuthContext must be used inside an AuthContextProvider')\n  }\n\n  return context\n}","// styles\r\nimport \"./Avatar.css\";\r\n\r\nexport default function Avatar({ src }) {\r\n  return (\r\n    <div className=\"avatar\">\r\n      <img src={src} alt=\"user avatar\" />\r\n    </div>\r\n  );\r\n}\r\n","import { Link } from \"react-router-dom\";\r\nimport Avatar from \"./Avatar\";\r\n\r\n//styles\r\nimport \"./ProjectList.css\";\r\n\r\nexport default function ProjectList({ projects }) {\r\n  return (\r\n    <div className=\"project-list\">\r\n      {projects.lenght === 0 && <p>No projects yet</p>}\r\n      {projects.map((project) => (\r\n        <Link to={`/projects/${project.id}`} key={project.id}>\r\n          <h4>{project.name}</h4>\r\n          <p>Due by {project.dueDate.toDate().toDateString()}</p>\r\n          <div className=\"assigned-to\">\r\n            <ul>\r\n              {project.assignedUsersList.map((user) => (\r\n                <li key={user.photoURL}>\r\n                  <Avatar src={user.photoURL} />\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </Link>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useState, useRef } from \"react\"\nimport { projectFirestore } from \"../firebase/config\"\n\nexport const useCollection = (collection, _query, _orderBy) => {\n  const [documents, setDocuments] = useState(null)\n  const [error, setError] = useState(null)\n\n  // if we don't use a ref --> infinite loop in useEffect\n  // _query is an array and is \"different\" on every function call\n  const query = useRef(_query).current\n  const orderBy = useRef(_orderBy).current\n\n  useEffect(() => {\n    let ref = projectFirestore.collection(collection)\n\n    if (query) {\n      ref = ref.where(...query)\n    }\n    if (orderBy) {\n      ref = ref.orderBy(...orderBy)\n    }\n\n    const unsubscribe = ref.onSnapshot(snapshot => {\n      let results = []\n      snapshot.docs.forEach(doc => {\n        results.push({...doc.data(), id: doc.id})\n      });\n      \n      // update state\n      setDocuments(results)\n      setError(null)\n    }, error => {\n      console.log(error)\n      setError('could not fetch the data')\n    })\n\n    // unsubscribe on unmount\n    return () => unsubscribe()\n\n  }, [collection, query, orderBy])\n\n  return { documents, error }\n}","const filterList = [\r\n  \"all\",\r\n  \"mine\",\r\n  \"development\",\r\n  \"design\",\r\n  \"marketing\",\r\n  \"sales\",\r\n];\r\n\r\nexport default function ProjectFilter({ currentFilter, changeFilter }) {\r\n  const handleClick = (newFilter) => {\r\n    changeFilter(newFilter);\r\n  };\r\n\r\n  return (\r\n    <div className=\"project-filter\">\r\n      <nav>\r\n        <p>Filter by:</p>\r\n        {filterList.map((cat) => (\r\n          <button\r\n            key={cat}\r\n            onClick={() => handleClick(cat)}\r\n            className={currentFilter === cat ? \"active\" : \"\"}\r\n          >\r\n            {cat}\r\n          </button>\r\n        ))}\r\n      </nav>\r\n    </div>\r\n  );\r\n}\r\n","import ProjectList from \"../../components/ProjectList\";\r\nimport { useCollection } from \"../../hooks/useCollection\";\r\nimport ProjectFilter from \"./ProjectFilter\";\r\nimport { useState } from \"react\";\r\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\r\n\r\n// styles\r\nimport \"./Dashboard.css\";\r\n\r\nexport default function Dashboard() {\r\n  const { user } = useAuthContext();\r\n  const { documents, error } = useCollection(\"projects\");\r\n  const [currentFilter, setCurrentFilter] = useState(\"all\");\r\n\r\n  const changeFilter = (newFilter) => {\r\n    setCurrentFilter(newFilter);\r\n  };\r\n\r\n  const projects = documents\r\n    ? documents.filter((document) => {\r\n        switch (currentFilter) {\r\n          case \"all\":\r\n            return true;\r\n          case \"mine\":\r\n            let assignedToMe = false;\r\n            document.assignedUsersList.forEach((u) => {\r\n              if (user.uid === u.id) {\r\n                assignedToMe = true;\r\n              }\r\n            });\r\n            return assignedToMe;\r\n          case \"development\":\r\n          case \"design\":\r\n          case \"sales\":\r\n          case \"marketing\":\r\n            console.log(document.category, changeFilter);\r\n            return document.category === currentFilter;\r\n          default:\r\n            return true;\r\n        }\r\n      })\r\n    : null;\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"page-title\">Dashboard</h2>\r\n      {error && <p className=\"error\">{error}</p>}\r\n      {documents && (\r\n        <ProjectFilter\r\n          currentFilter={currentFilter}\r\n          changeFilter={changeFilter}\r\n        />\r\n      )}\r\n      {projects && <ProjectList projects={projects} />}\r\n    </div>\r\n  );\r\n}\r\n","import { useReducer, useEffect, useState } from \"react\";\nimport { projectFirestore, timestamp } from \"../firebase/config\";\n\nlet initialState = {\n  document: null,\n  isPending: false,\n  error: null,\n  success: null,\n};\n\nconst firestoreReducer = (state, action) => {\n  switch (action.type) {\n    case \"IS_PENDING\":\n      return { isPending: true, document: null, success: false, error: null };\n    case \"ADDED_DOCUMENT\":\n      return {\n        isPending: false,\n        document: action.payload,\n        success: true,\n        error: null,\n      };\n    case \"DELETED_DOCUMENT\":\n      return { isPending: false, document: null, success: true, error: null };\n    case \"UODATED_DOCUMENT\":\n      return {\n        isPending: false,\n        document: action.payload,\n        success: true,\n        error: null,\n      };\n    case \"ERROR\":\n      return {\n        isPending: false,\n        document: null,\n        success: false,\n        error: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const useFirestore = (collection) => {\n  const [response, dispatch] = useReducer(firestoreReducer, initialState);\n  const [isCancelled, setIsCancelled] = useState(false);\n\n  // collection ref\n  const ref = projectFirestore.collection(collection);\n\n  // only dispatch is not cancelled\n  const dispatchIfNotCancelled = (action) => {\n    if (!isCancelled) {\n      dispatch(action);\n    }\n  };\n\n  // add a document\n  const addDocument = async (doc) => {\n    dispatch({ type: \"IS_PENDING\" });\n\n    try {\n      const createdAt = timestamp.fromDate(new Date());\n      const addedDocument = await ref.add({ ...doc, createdAt });\n      dispatchIfNotCancelled({\n        type: \"ADDED_DOCUMENT\",\n        payload: addedDocument,\n      });\n    } catch (err) {\n      dispatchIfNotCancelled({ type: \"ERROR\", payload: err.message });\n    }\n  };\n\n  // delete a document\n  const deleteDocument = async (id) => {\n    dispatch({ type: \"IS_PENDING\" });\n\n    try {\n      await ref.doc(id).delete();\n      dispatchIfNotCancelled({ type: \"DELETED_DOCUMENT\" });\n    } catch (err) {\n      dispatchIfNotCancelled({ type: \"ERROR\", payload: \"could not delete\" });\n    }\n  };\n\n  // update documents\n  const updateDocument = async (id, updates) => {\n    dispatch({ type: \"IS_PENDING\" });\n\n    try {\n      const updateDocument = await ref.doc(id).update(updates);\n      dispatchIfNotCancelled({\n        type: \"UPDATED_DOCUMENT\",\n        payload: updateDocument,\n      });\n      return updateDocument;\n    } catch (err) {\n      dispatchIfNotCancelled({ type: \"ERROR\", payload: err.message });\n      return null;\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n  console.log(\"This is isCancelled: \", isCancelled);\n  return { addDocument, deleteDocument, updateDocument, response };\n};\n","import { useEffect, useState } from \"react\";\r\nimport Select from \"react-select\";\r\nimport { useCollection } from \"../../hooks/useCollection\";\r\nimport { timestamp } from \"../../firebase/config\";\r\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\r\nimport { useFirestore } from \"../../hooks/useFirestore\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n// styles\r\nimport \"./Create.css\";\r\n\r\nconst categories = [\r\n  { value: \"development\", label: \"Development\" },\r\n  { value: \"design\", label: \"Design\" },\r\n  { value: \"sales\", label: \"Sales\" },\r\n  { value: \"marketing\", label: \"Marketing\" },\r\n];\r\n\r\nexport default function Create() {\r\n  const { documents } = useCollection(\"users\");\r\n  const [users, setUsers] = useState([]);\r\n  const { user } = useAuthContext();\r\n  const { addDocument, response } = useFirestore(\"projects\");\r\n  const navigate = useNavigate();\r\n\r\n  // form field vaues\r\n  const [name, setName] = useState(\"\");\r\n  const [details, setDetails] = useState(\"\");\r\n  const [dueDate, setDueDate] = useState(\"\");\r\n  const [category, setCategory] = useState(\"\");\r\n  const [assignedUsers, setAssignedUsers] = useState([]);\r\n  const [formError, setFormError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (documents) {\r\n      const options = documents.map((user) => {\r\n        return { value: user, label: user.displayName };\r\n      });\r\n      setUsers(options);\r\n    }\r\n  }, [documents]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setFormError(null);\r\n\r\n    if (!category) {\r\n      setFormError(\"Please select a project category\");\r\n      return;\r\n    }\r\n\r\n    if (assignedUsers.length < 1) {\r\n      setFormError(\"Please assign the project to atleast 1 user\");\r\n      return;\r\n    }\r\n\r\n    const createdBy = {\r\n      displayName: user.displayName,\r\n      photoURL: user.photoURL,\r\n      id: user.uid,\r\n    };\r\n\r\n    const assignedUsersList = assignedUsers.map((u) => {\r\n      return {\r\n        displayName: u.value.displayName,\r\n        photoURL: u.value.photoURL,\r\n        id: u.value.id,\r\n      };\r\n    });\r\n    const project = {\r\n      name,\r\n      details,\r\n      category: category.value,\r\n      dueDate: timestamp.fromDate(new Date(dueDate)),\r\n      comments: [],\r\n      createdBy,\r\n      assignedUsersList,\r\n    };\r\n\r\n    await addDocument(project);\r\n    if (!response.error) {\r\n      navigate(\"/\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"create-form\">\r\n      <h2 className=\"page-title\">Create a new project</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>\r\n          <span>Project name:</span>\r\n          <input\r\n            required\r\n            type=\"text\"\r\n            onChange={(e) => setName(e.target.value)}\r\n            value={name}\r\n          />\r\n        </label>\r\n\r\n        <label>\r\n          <span>Project details:</span>\r\n          <textarea\r\n            required\r\n            type=\"text\"\r\n            onChange={(e) => setDetails(e.target.value)}\r\n            value={details}\r\n          ></textarea>\r\n        </label>\r\n\r\n        <label>\r\n          <span>Set due date:</span>\r\n          <input\r\n            required\r\n            type=\"date\"\r\n            onChange={(e) => setDueDate(e.target.value)}\r\n            value={dueDate}\r\n          />\r\n        </label>\r\n\r\n        <label>\r\n          <span>Project category:</span>\r\n          <Select\r\n            onChange={(option) => setCategory(option)}\r\n            options={categories}\r\n          />\r\n        </label>\r\n\r\n        <label>\r\n          <span>Assign to:</span>\r\n          <Select\r\n            onChange={(option) => setAssignedUsers(option)}\r\n            options={users}\r\n            isMulti\r\n          />\r\n        </label>\r\n\r\n        <button className=\"btn\">Add Project</button>\r\n\r\n        {formError && <p className=\"error\">{formError}</p>}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport { useLogin } from \"../../hooks/useLogin\";\r\n\r\n// styles\r\nimport \"./Login.css\";\r\n\r\nexport default function Login() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const { login, isPending, error } = useLogin();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    login(email, password);\r\n  };\r\n\r\n  return (\r\n    <form className=\"auth-form\" onSubmit={handleSubmit}>\r\n      <h2>Login</h2>\r\n      <label>\r\n        <span>email:</span>\r\n        <input\r\n          required\r\n          type=\"email\"\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          value={email}\r\n        />\r\n      </label>\r\n      <label>\r\n        <span>password:</span>\r\n        <input\r\n          required\r\n          type=\"password\"\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          value={password}\r\n        />\r\n      </label>\r\n\r\n      {!isPending && <button className=\"btn\">Login</button>}\r\n      {isPending && (\r\n        <button className=\"btn\" disabled>\r\n          Loading\r\n        </button>\r\n      )}\r\n      {error && <div className=\"error\">{error}</div>}\r\n    </form>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\nimport { projectAuth, projectFirestore } from \"../firebase/config\";\nimport { useAuthContext } from \"./useAuthContext\";\n\nexport const useLogin = () => {\n  const [isCancelled, setIsCancelled] = useState(false);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch } = useAuthContext();\n\n  const login = async (email, password) => {\n    setError(null);\n    setIsPending(true);\n\n    try {\n      // login\n      const res = await projectAuth.signInWithEmailAndPassword(email, password);\n\n      // update online status\n      await projectFirestore\n        .collection(\"users\")\n        .doc(res.user.uid)\n        .update({ online: true });\n\n      // dispatch login action\n      dispatch({ type: \"LOGIN\", payload: res.user });\n\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        setError(err.message);\n        setIsPending(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { login, isPending, error };\n};\n","import { useState } from \"react\";\r\nimport { useSignup } from \"../../hooks/useSignup\";\r\n\r\n// styles\r\nimport \"./Signup.css\";\r\n\r\nexport default function Signup() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [displayName, setDisplayName] = useState(\"\");\r\n  const [thumbnail, setThumbnail] = useState(null);\r\n  const [thumbnailError, setThumbnailError] = useState(null);\r\n  const { signup, isPending, error } = useSignup();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    signup(email, password, displayName, thumbnail);\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    setThumbnail(null);\r\n    let selected = e.target.files[0];\r\n    console.log(selected);\r\n\r\n    if (!selected) {\r\n      setThumbnailError(\"Please select a File\");\r\n      return;\r\n    }\r\n    if (!selected.type.includes(\"image\")) {\r\n      setThumbnailError(\"Selected File must be an image\");\r\n      return;\r\n    }\r\n    if (selected.size > 100000) {\r\n      setThumbnailError(\"Image size must be less than 100kb\");\r\n      return;\r\n    }\r\n\r\n    setThumbnailError(null);\r\n    setThumbnail(selected);\r\n    console.log(\"thumbnail updated\");\r\n  };\r\n\r\n  return (\r\n    <form className=\"auth-form\" onSubmit={handleSubmit}>\r\n      <h2>Signup</h2>\r\n      <label>\r\n        <span>email:</span>\r\n        <input\r\n          required\r\n          type=\"email\"\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          value={email}\r\n        />\r\n      </label>\r\n      <label>\r\n        <span>password:</span>\r\n        <input\r\n          required\r\n          type=\"password\"\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          value={password}\r\n        />\r\n      </label>\r\n      <label>\r\n        <span>display name:</span>\r\n        <input\r\n          required\r\n          type=\"text\"\r\n          onChange={(e) => setDisplayName(e.target.value)}\r\n          value={displayName}\r\n        />\r\n      </label>\r\n      <label>\r\n        <span>profile thumbnail:</span>\r\n        <input required type=\"file\" onChange={handleFileChange} />\r\n        {thumbnailError && <div className=\"error\">{thumbnailError}</div>}\r\n      </label>\r\n      {!isPending && <button className=\"btn\">Sign up</button>}\r\n      {isPending && (\r\n        <button className=\"btn\" disabled>\r\n          Loading\r\n        </button>\r\n      )}\r\n      {error && <div className=\"error\">{error}</div>}\r\n    </form>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\nimport {\n  projectAuth,\n  projectStorage,\n  projectFirestore,\n} from \"../firebase/config\";\nimport { useAuthContext } from \"./useAuthContext\";\n\nexport const useSignup = () => {\n  const [isCancelled, setIsCancelled] = useState(false);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch } = useAuthContext();\n\n  const signup = async (email, password, displayName, thumbnail) => {\n    setError(null);\n    setIsPending(true);\n\n    try {\n      // signup\n      const res = await projectAuth.createUserWithEmailAndPassword(\n        email,\n        password\n      );\n\n      if (!res) {\n        throw new Error(\"Could not complete signup\");\n      }\n      // upload user thumbnail\n      const uploadPath = `thumbnails${res.user.uid}/${thumbnail.name}`;\n      const img = await projectStorage.ref(uploadPath).put(thumbnail);\n      const imgUrl = await img.ref.getDownloadURL();\n\n      // add display name to user\n      await res.user.updateProfile({ displayName, photoURL: imgUrl });\n\n      //create a user document\n      await projectFirestore.collection(\"users\").doc(res.user.uid).set({\n        online: true,\n        displayName,\n        photoURL: imgUrl,\n      });\n      // dispatch login action\n      dispatch({ type: \"LOGIN\", payload: res.user });\n\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        setError(err.message);\n        setIsPending(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { signup, error, isPending };\n};\n","import Avatar from \"../../components/Avatar\";\r\nimport { useFirestore } from \"../../hooks/useFirestore\";\r\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function ProjectSummary({ project }) {\r\n  const { deleteDocument } = useFirestore(\"projects\");\r\n  const { user } = useAuthContext();\r\n  const navigate = useNavigate();\r\n\r\n  const handleClick = (e) => {\r\n    deleteDocument(project.id);\r\n    navigate(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"project-summary\">\r\n        <h2 className=\"page-title\">{project.name}</h2>\r\n        <p>By {project.createdBy.displayName}</p>\r\n        <p className=\"due-date\">\r\n          Project due by {project.dueDate.toDate().toDateString()}\r\n        </p>\r\n        <p className=\"details\">{project.details}</p>\r\n        <h4>Project is assigned to:</h4>\r\n        <div className=\"assigned-users\">\r\n          {project.assignedUsersList.map((user) => (\r\n            <div key={user.id}>\r\n              <Avatar src={user.photoURL} />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      {user.uid === project.createdBy.id && (\r\n        <button className=\"btn\" onClick={handleClick}>\r\n          Mark as Complete\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport Avatar from \"../../components/Avatar\";\r\nimport { timestamp } from \"../../firebase/config\";\r\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\r\nimport { useFirestore } from \"../../hooks/useFirestore\";\r\nimport formatDistanceToNow from \"date-fns/formatDistanceToNow\";\r\n\r\nexport default function ProjectComments({ project }) {\r\n  const { updateDocument, response } = useFirestore(\"projects\");\r\n  const [newComment, setNewComment] = useState(\"\");\r\n  const { user } = useAuthContext();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const commentToAdd = {\r\n      displayName: user.displayName,\r\n      photoURL: user.photoURL,\r\n      content: newComment,\r\n      createdAt: timestamp.fromDate(new Date()),\r\n      id: Math.random(),\r\n    };\r\n    await updateDocument(project.id, {\r\n      comments: [...project.comments, commentToAdd],\r\n    });\r\n    if (!response.error) {\r\n      setNewComment(\"\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"project-comments\">\r\n      <h4>Project Comments</h4>\r\n\r\n      <ul>\r\n        {project.comments.length > 0 &&\r\n          project.comments.map((comment) => (\r\n            <li key={comment.id}>\r\n              <div className=\"comment-auther\">\r\n                <Avatar src={comment.photoURL} />\r\n                <p>{comment.displayName}</p>\r\n              </div>\r\n              <div className=\"comment-date\">\r\n                <p>\r\n                  {formatDistanceToNow(comment.createdAt.toDate(), {\r\n                    addSuffix: true,\r\n                  })}\r\n                </p>\r\n              </div>\r\n              <div className=\"comment-content\">\r\n                <p>{comment.content}</p>\r\n              </div>\r\n            </li>\r\n          ))}\r\n      </ul>\r\n\r\n      <form className=\"add-comment\" onSubmit={handleSubmit}>\r\n        <label>\r\n          <span>Add a new comment:</span>\r\n          <textarea\r\n            required\r\n            onChange={(e) => setNewComment(e.target.value)}\r\n            value={newComment}\r\n          ></textarea>\r\n        </label>\r\n        <button className=\"btn\">Add Comment</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import { useParams } from \"react-router-dom\";\r\nimport { useDocument } from \"../../hooks/useDocument\";\r\nimport ProjectSummary from \"./ProjectSummary\";\r\nimport ProjectComments from \"./ProjectComments\";\r\n\r\n// styles\r\nimport \"./Project.css\";\r\n\r\nexport default function Project() {\r\n  const { id } = useParams();\r\n  const { error, document } = useDocument(\"projects\", id);\r\n\r\n  if (error) {\r\n    return <div className=\"error\">{error}</div>;\r\n  }\r\n  if (!document) {\r\n    return <div className=\"loading\">Loading....</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"project-details\">\r\n      <ProjectSummary project={document} />\r\n      <ProjectComments project={document} />\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { projectFirestore } from \"../firebase/config\";\r\n\r\nexport const useDocument = (collection, id) => {\r\n  const [document, setDocument] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  // realtime data for document\r\n  useEffect(() => {\r\n    const ref = projectFirestore.collection(collection).doc(id);\r\n\r\n    const unsubscribe = ref.onSnapshot(\r\n      (snapshot) => {\r\n        if (snapshot.data()) {\r\n          setDocument({ ...snapshot.data(), id: snapshot.id });\r\n          setError(null);\r\n        } else {\r\n          setError(\"no such document exists\");\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err.message);\r\n        setError(\"failed to get document\");\r\n      }\r\n    );\r\n\r\n    return () => unsubscribe();\r\n  }, [collection, id]);\r\n\r\n  return { document, error };\r\n};\r\n","import { useEffect, useState } from \"react\";\nimport { projectAuth, projectFirestore } from \"../firebase/config\";\nimport { useAuthContext } from \"./useAuthContext\";\n\nexport const useLogout = () => {\n  const [isCancelled, setIsCancelled] = useState(false);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch, user } = useAuthContext();\n\n  const logout = async () => {\n    setError(null);\n    setIsPending(true);\n\n    // sign the user out\n    try {\n      // update the online status\n      const { uid } = user;\n      await projectFirestore\n        .collection(\"users\")\n        .doc(uid)\n        .update({ online: false });\n\n      await projectAuth.signOut();\n\n      // dispatch logout action\n      dispatch({ type: \"LOGOUT\" });\n\n      // update state\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        setError(err.message);\n        setIsPending(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { logout, error, isPending };\n};\n","export default __webpack_public_path__ + \"static/media/temple.c57f882d.svg\";","import { Link } from \"react-router-dom\";\r\nimport { useLogout } from \"../hooks/useLogout\";\r\nimport { useAuthContext } from \"../hooks/useAuthContext\";\r\n\r\n// styles & images\r\nimport \"./Navbar.css\";\r\nimport Temple from \"../assets/temple.svg\";\r\n\r\nexport default function Navbar() {\r\n  const { logout, isPending } = useLogout();\r\n  const { user } = useAuthContext();\r\n  return (\r\n    <div className=\"navbar\">\r\n      <ul>\r\n        <li className=\"logo\">\r\n          <img src={Temple} alt=\"dojo logo\" />\r\n          <span>The Dojo</span>\r\n        </li>\r\n        {!user && (\r\n          <>\r\n            <li>\r\n              <Link to=\"/login\">Login</Link>\r\n            </li>\r\n            <li>\r\n              <Link to=\"/signup\">Signup</Link>\r\n            </li>\r\n          </>\r\n        )}\r\n        {user && (\r\n          <li>\r\n            {!isPending && (\r\n              <button className=\"btn\" onClick={logout}>\r\n                Logout\r\n              </button>\r\n            )}\r\n            {isPending && (\r\n              <button className=\"btn\" disabled>\r\n                Logging out...\r\n              </button>\r\n            )}\r\n          </li>\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/dashboard_icon.bc800f3b.svg\";","export default __webpack_public_path__ + \"static/media/add_icon.376e9b6a.svg\";","import { NavLink } from \"react-router-dom\";\r\nimport Avatar from \"./Avatar\";\r\nimport { useAuthContext } from \"../hooks/useAuthContext\";\r\n\r\n// styles & images\r\nimport \"./Sidebar.css\";\r\nimport DashboardIcon from \"../assets/dashboard_icon.svg\";\r\nimport AddIcon from \"../assets/add_icon.svg\";\r\n\r\nexport default function Sidebar() {\r\n  const { user } = useAuthContext();\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <div className=\"sidebar-content\">\r\n        <div className=\"user\">\r\n          <Avatar src={user.photoURL} />\r\n          <p>Hey {user.displayName}</p>\r\n        </div>\r\n        <nav className=\"links\">\r\n          <ul>\r\n            <li>\r\n              <NavLink exact to=\"/\">\r\n                <img src={DashboardIcon} alt=\"dashbord icon\" />\r\n                <span>Dashboard</span>\r\n              </NavLink>\r\n            </li>\r\n\r\n            <li>\r\n              <NavLink to=\"/create\">\r\n                <img src={AddIcon} alt=\"add project icon\" />\r\n                <span>New Project</span>\r\n              </NavLink>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useCollection } from \"../hooks/useCollection\";\r\nimport Avatar from \"./Avatar\";\r\n\r\n// styles\r\nimport \"./OnlineUsers.css\";\r\n\r\nexport default function OnlineUsers() {\r\n  const { error, documents } = useCollection(\"users\");\r\n  return (\r\n    <div className=\"user-list\">\r\n      <h2>All Users</h2>\r\n      {error && <div className=\"error\">{error}</div>}\r\n      {documents &&\r\n        documents.map((user) => (\r\n          <div key={user.id} className=\"user-list-item\">\r\n            {user.online && <span className=\"online-user\"></span>}\r\n            <span>{user.displayName}</span>\r\n            <Avatar src={user.photoURL} />\r\n          </div>\r\n        ))}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport { useAuthContext } from \"./hooks/useAuthContext\";\n\n// styles\nimport \"./App.css\";\n\n// pages and components\nimport Dashboard from \"./pages/dashboard/Dashboard\";\nimport Create from \"./pages/create/Create\";\nimport Login from \"./pages/login/Login\";\nimport Signup from \"./pages/signup/Signup\";\nimport Project from \"./pages/project/Project\";\nimport Navbar from \"./components/Navbar\";\nimport Sidebar from \"./components/Sidebar\";\nimport OnlineUsers from \"./components/OnlineUsers\";\n\nfunction App() {\n  const { user, authIsReady } = useAuthContext();\n  return (\n    <div className=\"App\">\n      {authIsReady && (\n        <BrowserRouter>\n          {user && <Sidebar />}\n          <div className=\"container\">\n            <Navbar />\n            <Routes>\n              <Route path=\"/\" element={user ? <Dashboard /> : <Login />} />\n\n              <Route path=\"/create\" element={user ? <Create /> : <Login />} />\n\n              <Route\n                path=\"/projects/:id\"\n                element={user ? <Project /> : <Login />}\n              />\n\n              <Route\n                path=\"/login\"\n                element={!user ? <Login /> : <Dashboard />}\n              />\n\n              <Route\n                path=\"/signup\"\n                element={!user ? <Signup /> : <Dashboard />}\n              />\n            </Routes>\n          </div>\n          {user && <OnlineUsers />}\n        </BrowserRouter>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { AuthContextProvider } from \"./context/AuthContext\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}